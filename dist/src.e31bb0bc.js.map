{"version":3,"sources":["utils.js","classes/blocks.js","model.js","classes/site.js","classes/sidebar.js","classes/app.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["row","content","styles","col","css","toString","key","Object","keys","map","join","block","type","Block","value","options","Error","TitleBlock","tag","ImageBlock","is","imageStyles","alt","ColumnsBlock","html","TextBlock","model","padding","image","display","width","height","color","Site","selector","$el","document","querySelector","innerHTML","forEach","insertAdjacentHTML","toHTML","Sidebar","updateCallback","update","init","template","addEventListener","add","bind","event","preventDefault","target","name","newBlock","App","site","render","push","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"AOAA,ACAA,IDAI2D,ACAAW,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSX,ACCAY,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDCf,MCCM,GDDX,ACCcc,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEhB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AFHJ,IEGIA,IAAI,CAACI,MAAL;ADCF,ACAC,AHNH,AJAA,AGAA,AFAA,GMIE,MDEOlB,SAAP;AACD,ADHD,IAAIJ,QAAJ,CAAQ7B,YAAR,EAAemB,IAAf;AEGE6B,AHNF,ADAA,AFAA,EMMEA,OAAO,CAACI,IAAR,GAAeL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,ARRK,EQQLA,IAAI,CAACS,EDCErB,APTO7D,GAAT,CAAaC,IQQlB,CAAgBkF,ERRX,COSP,CPT0C,EOSlB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD,ARTyC,MAAblF,MAAa,uEAAJ,EAAI;AOWxC,APVA,MOUI,wCPV8BA,MAAlC,iBAA8CD,OAA9C;AOWE,ACDJ,ANHO,AFNN,IQSGoF,ALXSpD,ADQAP,KAAK,CKIR,ELJW,CACnB,CKGYV,ACDA,GAAG,ANFXC,EKGI,EAAN,ACDJ,cNFE,CAAe,yCAAf,EAA0D;AKIzD,AJZD,ADSEC,EAAAA,CKCF,CAEE,CLHG,EAAE,IKGE4C,ALJiD,GKIxD,EAAY,AJZF5B,QAAZ,EAAsB;AIapB,ACFJ,ALXwB,ADUpBhC,AFPG,EEOHA,MKGI6D,ALHE,CMCDuB,ARROnF,CEOJ,EFPL,CAAaF,EOUL,GAAG,ACFlB,CDEmB,CPVZ,CQQc,CRRqB,EOUlB6D,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,ANDI,AFRoC,MQSpCoB,ARTuBnF,MAAa,IQSxC,EAAgB,ANDE,QADR,yDFP0B,EAAI;AOWtC,ACDA,ALZA,ADWEyB,AFRJ,IKFW4B,ADCAb,AFSPf,IKEEoC,CJbC5B,EDWI,CCXT,CDWW,EKEX,AJbWC,EIaE,MJbM,CAACC,aAAT,CAAuBH,QAAvB,CAAX,EHGmChC,MAArC,iBAAiDD,OAAjD;AOWI,ACDH,AHXD,ADCA,ADFC,ADQS,AFLX,aOUYiE,EFZCxC,IDCAQ,CCDZ,EAAmB,CEYE,CAAC6B,GHXtB,EAAsBpB,EGWO,CAAC,CAAD,CAAR,CAAjB,QHXJ,EAAsC;AGYnC,AFbgB,ADCmB,AFIoB,CAA1D,CADmB,EASnB,IAAIxB,kBAAJ,CAAeS,mBAAf,EAAsB;AKCrB,ACDDyD,ANCEnF,AFVG,EQSLmF,ANCEnF,MAAM,CFVME,CEUJ,EMDA,ARTL,GQSQmF,ARTkB,UQSR,CAAC,YAAY;AAClC,AHbA,ADCA,AFaE5D,AFX2B,IEW3BA,EFXczB,EQUZsF,CHbC9D,ADCAS,EFaI,CEbT,AJE6B,CQUpB,ANCE,CGdX,CDCWC,CIYCA,CHbCV,IHaL,CGbR,CDCmB,CIYC,AJZAW,CIYCoD,YJZV,CAAuBvD,GIYtB,CAA0B,IJZ3B,CAAX,mBIYY,CAAZ,gBRVyB,EAAI;AOY/B,AFdC,ADEC,AFYEL,AFXJ,IEWIA,EFXA,GOWG,AHZAe,EFYI,CKAX,CLAa,AFXF1C,EIDT,GAAcyC,CFUN,AFTN,KAAkB,GGJfjB,KCGL,AJCF,EGJc,AHIkB,OAAOxB,MAAP;AOYjC,ACFG,AJVA,ADJY,ADgBV,SMFG,AJVA2C,IIUI6C,AJVT,CIUU,GAAG,CAAb,EAAgBA,CAAC,ENEI,CMFDF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AJVH,AFQS,AFRV,GEOsB,GFPhBrF,IQUEiE,IRVM,EQUA,CAACJ,ARVE,SAAX7D,CQUE,CAAkBmF,KAAK,CAACE,ARVf,CQUc,ARVbpF,CQUQ,CAASwE,CRVlB,GQUT,MAAqCR,MAAM,CAACT,YAAP,EAAzC,EAAgE;ADGtE,ACFQW,ALfJ,ADiBAnD,AFbe,EEafA,MMFImD,CDECN,EJjBA/B,EDiBM,CCjBX,CAASG,ADiBI,GMFC,CDElB,ACFmBkD,CDECrB,CPbW7D,EOa/B,CCFwB,ALfpB,AHIe,COaM,ACFAoF,CAAD,CAAN,ALfO,CKejB,CLfJ,UHImCxF,MAAM,CAACI,GAAD,CAA1B;AOcjB,ACFK,ALfHoB,ADiBEI,AFda,GAAjB,CEcIA,ECjBFJ,GIiBK,ALAE,CKAD,CJjBD,ADiBI,CCjBHa,GIiBK4B,CLDE,EKCR,CJjBL,CIiBgBC,AJjBF,OIiBT,AFhBA,CEgBmB,EJjBTzD,KAAD,EAAW,6DIiBpB,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AHfI,AFAH,ADiBAoB,IAAAA,ICjBA,EDiBM,EAAE,CCjBJ,CAACI,GAAL,CAASK,kBAAT,CAA4B,WAA5B,EAAyC7B,KAAK,CAAC8B,MAAN,EAAzC;AACD,ADcY,AFZf,GEMsB,ICVpB,EHIKlC,MAAM,CAACC,IAAP,CAAYN,MICZ,AJDA,EAAoBO,GAApB,CAAwBJ,QAAxB,EAAkCK,IAAlC,CAAuC,GAAvC,CAAP;AOgBF2D,ACFIgB,AHhBA,ADIA,ADHD,ADiBC/D,AFfH,EEeGA,EMFA+D,CNEG,EKAA,ALAE,CKADxB,EFlBEL,CDIDrB,GIYK,AHhBA,ADIV,CAASK,EIYI,AHhBA,GEkBjB,CCFI,AHhBiBP,EEkBE2B,QFlBN,CAAS,CDItB,CAA4B,KCJf,CAAb,CEkBJ,KHdI,EAA0C,KAAKd,QAA/C;AGeJuB,ACFG,AHfCb,ADGA,AFGoB,CAAtB,CATmB,CMSI,CNYvB,CMHG,CHfDA,CEiBG,ACXkB,CDWjBU,ACXN,ANYIzC,EGlBE,CAACgC,ADGAtB,GAAL,CAASY,ECHT,CEiBJ,AFjBgB,GEiBKmB,EFjBAxC,EHkBnB,CACE,EGnBA,GEiBJ,AHdI,CAA0B,QAA1B,EAAoC,KAAKsB,GAAL,CAASC,IAAT,CAAc,IAAd,CAApC,0CFeF,EAEE;AMJH,AJZE,AFiBG/C,AFlBC,EEkBDA,ED9BAW,IC8BM,CFlBIF,CEkBF,IFlBP,CAAeC,IAAf,EAAqB;AKDxB,AJVF,AC8BM,AFlBN,UKFQ+B,OJVI7B,EC8BS,GD9BrB,EIUsB,AJVHC,CC6BP,EGnBa,IJVzB,EAA4B,GIU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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["export function row(content, styles = \"\") {\n  return `<div class=\"row\" style=\"${styles}\"> ${content}</div>`;\n}\n\nexport function col(content, styles = \"\") {\n  return `<div class=\"col-sm\" style=\"${styles}\"> ${content}</div>`;\n}\n\nexport function css(styles = {}) {\n  if (typeof styles === \"string\") return styles;\n  const toString = (key) => `${key}: ${styles[key]}`;\n  return Object.keys(styles).map(toString).join(\";\");\n}\n\nexport function block(type) {\n  return `\n    <form name=\"${type}\">\n      <h5>${type}</h5>\n      <div class=\"form-group\">\n        <input class=\"form-control form-control-sm\" name=\"value\" placeholder=\"value\" />\n      </div>\n      <div class=\"form-group\">\n        <input class=\"form-control form-control-sm\" name=\"styles\" placeholder=\"styles\" />\n      </div>\n      <button type=\"submit\" class=\"btn btn-primary btn-sm\">Добавить</button>\n    </form>\n    <hr />\n  `;\n}\n","import { col, row, css } from \"../utils\";\n\nclass Block {\n  constructor(value, options) {\n    this.value = value;\n    this.options = options;\n  }\n\n  toHTML() {\n    throw new Error(\"Метод toHTML должен быть реализован\");\n  }\n}\n\nexport class TitleBlock extends Block {\n  constructor(value, options) {\n    super(value, options);\n  }\n\n  toHTML() {\n    const { tag = \"h1\", styles } = this.options;\n    return row(col(`<${tag}>${this.value}</${tag}>`), css(styles));\n  }\n}\n\nexport class ImageBlock extends Block {\n  constructor(value, options) {\n    super(value, options);\n  }\n  toHTML() {\n    const { imageStyles: is, alt = \"\", styles } = this.options;\n    return row(\n      `<img src=\"${this.value}\" alt=\"${alt}\" style=\"${css(is)}\"/>`,\n      css(styles)\n    );\n  }\n}\n\nexport class ColumnsBlock extends Block {\n  constructor(value, options) {\n    super(value, options);\n  }\n\n  toHTML() {\n    const html = this.value.map(col).join(\"\");\n    return row(html, css(this.options.styles));\n  }\n}\n\nexport class TextBlock extends Block {\n  constructor(value, options) {\n    super(value, options);\n  }\n\n  toHTML() {\n    return row(col(`<p>${this.value}</p>`), css(this.options.styles));\n  }\n}\n","import image from \"./assets/javascript.jpg\";\nimport {\n  ImageBlock,\n  TitleBlock,\n  TextBlock,\n  ColumnsBlock\n} from \"./classes/blocks\";\n\nexport const model = [\n  new TitleBlock(\"Конструктор сайтов на чистом Javascript\", {\n    tag: \"h2\",\n    styles: {\n      \"text-align\": \"center\",\n      padding: \"1rem\"\n    }\n  }),\n\n  new ImageBlock(image, {\n    styles: {\n      padding: \"1rem 0\",\n      display: \"flex\",\n      \"justify-content\": \"center\"\n    },\n    imageStyles: {\n      width: \"50%\",\n      height: \"auto\"\n    },\n    alt: \"Это картинка\"\n  }),\n  new TextBlock(\n    \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eveniet, tenetur.\",\n    {\n      styles: {\n        \"font-weight\": \"Bold\",\n        color: \"gold\",\n        \"text-transform\": \"uppercase\",\n        \"text-align\": \"center\"\n      }\n    }\n  ),\n  new ColumnsBlock(\n    [\n      \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus praesentium delectus quos maxime voluptatibus magni quas quia earum quisquam, velit id repudiandae ad, voluptatum in accusantium sit vitae quidem inventore!\",\n      \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus praesentium delectus quos maxime voluptatibus magni quas quia earum quisquam, velit id repudiandae ad, voluptatum in accusantium sit vitae quidem inventore!\",\n      \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus praesentium delectus quos maxime voluptatibus magni quas quia earum quisquam, velit id repudiandae ad, voluptatum in accusantium sit vitae quidem inventore!\"\n    ],\n    {\n      styles: {\n        \"text-align\": \"center\"\n      }\n    }\n  )\n];\n","export class Site {\n  constructor(selector) {\n    this.$el = document.querySelector(selector);\n  }\n\n  render(model) {\n    this.$el.innerHTML = \"\";\n    model.forEach((block) => {\n      this.$el.insertAdjacentHTML(\"beforeend\", block.toHTML());\n    });\n  }\n}\n","import { block } from \"../utils\";\nimport { TextBlock } from \"./blocks\";\nimport { TitleBlock } from \"./blocks\";\n\nexport class Sidebar {\n  constructor(selector, updateCallback) {\n    this.$el = document.querySelector(selector);\n\n    this.update = updateCallback;\n    this.init();\n  }\n\n  init() {\n    this.$el.insertAdjacentHTML(\"afterbegin\", this.template);\n    this.$el.addEventListener(\"submit\", this.add.bind(this));\n  }\n\n  get template() {\n    return [\n      block(\"text\"),\n      block(\"title\"),\n      block(\"image\"),\n      block(\"columns\")\n    ].join(\"\");\n  }\n\n  add(event) {\n    event.preventDefault();\n\n    const type = event.target.name;\n    const value = event.target.value.value;\n    const styles = event.target.styles.value;\n\n    const newBlock =\n      type === \"text\"\n        ? new TextBlock(value, { styles })\n        : new TitleBlock(value, { styles });\n\n    this.update(newBlock);\n\n    event.target.value.value = \"\";\n    event.target.styles.value = \"\";\n  }\n}\n","import { Site } from \"./site\";\nimport { Sidebar } from \"./sidebar\";\n\nexport class App {\n  constructor(model) {\n    this.model = model;\n  }\n\n  init() {\n    const site = new Site(\"#site\");\n\n    site.render(this.model);\n\n    const updateCallback = (newBlock) => {\n      this.model.push(newBlock);\n      site.render(this.model);\n    };\n\n    new Sidebar(\"#panel\", updateCallback);\n  }\n}\n","import { model } from \"./model\";\nimport { App } from \"./classes/app\";\nimport \"./styles/main.css\";\n\nnew App(model).init();\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}